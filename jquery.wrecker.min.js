/**
 * jQuery Wrecker v0.4
 * Responsive Equal-Height Columns and Rows
 * http://www.svachon.com/blog/wrecker-responsive-equal-height-columns-and-rows
 *
 * Licensed under the MIT license.
 * Copyright 2013 Steven Vachon
 */
!function(a){a.Wrecker=function(){function f(b,d){c=a(d),h(b),a(window).on("resize",j),g()}function g(){for(var c=e.maxColumns,f=a(window).innerWidth(),g=0,h=e.responsiveColumns.length;g<h;g++){var i=e.responsiveColumns[g];for(var j in i)j>=f&&(c=i[j])}c!=b&&c>0&&(d=b,b=c,k())}function h(b){a.support.leadingWhitespace||(b.responsiveColumns=[]),e=a.extend(e,b)}function i(){a(window).off("resize",j),b=0,k(),c.removeData("wrecker")}function j(a){g()}function k(){c.children("div.wrecker-row").children().unwrap();var f=c.children(e.itemSelector);if(b>1){var g=f.length,h=0,i=0,j=g%2===0,k=!1;if(e.excludeLastSingleItem&&!j){k=!0;var l=f.last().addClass("wrecker-single-last")}f.each(function(c){1==++i&&(h=c),!k||c<g-1?((i>=b||c>=g-1)&&(f.slice(h,c+1).wrapAll('<div class="wrecker-row" style="display:table-row"/>'),i=0),d<=1&&a(this).addClass("wrecker-cell").css({display:"table-cell",float:"none"})):a(this).remove()}),c.addClass("wrecker").css("display","table"),k&&l.insertAfter(c)}else f.removeClass("wrecker-cell").css({display:"",float:""}),c.removeClass("wrecker").css("display","")}var c,b=0,d=0,e={itemSelector:"",maxColumns:1,responsiveColumns:[],excludeLastSingleItem:!1};this.changeSettings=h,this.destroy=i,this.reload=k,f.apply(this,arguments)},a.fn.wrecker=function(b){var c="string"==typeof b,d=Array.prototype.slice.call(arguments,1);return this.each(function(e){var f=a(this),g=f.data("wrecker");if(c){if(!g)return void console.error('Cannot call Wrecker methods prior to initialization; attempted to call method "'+b+'"');if(!a.isFunction(g[b]))return void console.error('No such Wrecker method "'+b+'"');g[b].apply(g,d)}else b=b||{},g?g.changeSettings(b):f.data("wrecker",new a.Wrecker(b,this))}),this}}(jQuery);